!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MetaSlider=e():t.MetaSlider=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(e),t.d(e,{default:()=>N});const n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers=[]}var e,n;return e=t,(n=[{key:"subscribe",value:function(t){this.observers.push(t)}},{key:"notify",value:function(t,e){this.observers.forEach((function(i){i.key===t&&i.observer(e)}))}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$slider=e,this.observer=new n,this.$track=jQuery("<div>"),this.isVertical=i.isVertical,this.trackStart=null,this.trackWidth=null,this.init()}var e,i;return e=t,(i=[{key:"setVertical",value:function(t){this.isVertical=t}},{key:"getElement",value:function(){return this.$track}},{key:"getTrackParameters",value:function(){var t=this.$track.position();this.trackStart=this.isVertical?Number(t.top):Number(t.left);var e=this.isVertical?this.$track.css("height"):this.$track.css("width");return this.trackWidth=parseFloat(e),{trackStart:this.trackStart,trackWidth:this.trackWidth}}},{key:"init",value:function(){this.$track.addClass("meta-slider__track js-meta-slider__track"),this.$track.appendTo(this.$slider),this.bindEventListeners()}},{key:"bindEventListeners",value:function(){this.$track.on("click",this.handleTrackClick.bind(this))}},{key:"handleTrackClick",value:function(t){var e=this.isVertical?t.pageY:t.pageX;if(null===this.trackStart)throw new Error("wrong track start");var i=Math.round(e-this.trackStart);this.observer.notify("trackClick",i)}}])&&r(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$slider=e,this.config=i,this.observer=new n,this.$scale=jQuery("<div>"),this.positions=[],this.itemWidth=20,this.scaleSize=null,this.init()}var e,i,r;return e=t,r=[{key:"reduceArray",value:function(t,e){if(t.length<e)return t;var i=Math.round(t.length/e);return t.filter((function(e,n){var r=n%i==0,o=n===t.length-1;return!(!r&&!o)&&e}))}},{key:"correctLastItems",value:function(t,e){var i,n=function(t){if(Array.isArray(t))return s(t)}(i=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=Number(t[t.length-1].position),o=Number(t[t.length-2].position);return Math.abs(o-r)<e&&n.splice(t.length-2,1),n}}],(i=[{key:"setConfig",value:function(t){this.config=t}},{key:"initPositions",value:function(t){this.scaleSize=t.trackWidth;var e=this.config,i=e.min,n=e.max,r=e.step,o=n-i,s=r.toString().split("."),a=2===s.length?Math.pow(10,s[1].length):1,c=this.scaleSize/o*r,l=c<1?Math.floor(1/c):1,h=Math.floor(o/r/l),u=Array(h+1),f=10*r*l,v=c*l,d=[],p=Array.from(u,(function(t,e){return i+Math.round(f*e*a)/(10*a)}));d=p.map((function(t,e){return{value:Math.round(t*a)/a,position:Math.round(v*e)}})),p[p.length-1]!==n&&d.push({value:n,position:this.scaleSize}),this.positions=d,this.initScale()}},{key:"getPositions",value:function(){return this.positions}},{key:"init",value:function(){this.$scale.addClass("meta-slider__scale js-meta-slider__scale"),this.$scale.appendTo(this.$slider),this.bindEventListeners()}},{key:"initScale",value:function(){this.$scale.empty(),this.itemWidth=this.takeWidth(),this.addValues()}},{key:"takeWidth",value:function(){var t=this,e=[],i=this.config.isVertical?"height":"width";return this.positions.forEach((function(n){var r=jQuery("<div>",{text:n.value}).appendTo(t.$scale);r.css(i,"min-content");var o=t.config.isVertical?r.height():r.width();e.push(o||0),r.remove()})),Math.max.apply(null,e)+10}},{key:"addValues",value:function(){var t=this,e=this.correctScaleArr(),i=jQuery("<div>",{class:"meta-slider__scale-row js-meta-slider__scale-row"});e.forEach((function(e){var n=e.position-t.itemWidth/2,r=t.createItem(e,n);i.append(r)})),this.$scale.append(i)}},{key:"correctScaleArr",value:function(){if(this.scaleSize){var e=Math.floor(this.scaleSize/this.itemWidth),i=t.reduceArray(this.positions,e);return t.correctLastItems(i,this.itemWidth)}throw new Error("wrong size of scale")}},{key:"createItem",value:function(t,e){var i=jQuery("<div>",{class:"meta-slider__scale-item js-meta-slider__scale-item",style:this.config.isVertical?"top: ".concat(e,"px; line-height: ").concat(this.itemWidth,"px"):"left: ".concat(e,"px")});return jQuery("<div>",{class:"meta-slider__line",text:this.config.isVertical?"â€”":"|"}).appendTo(i),jQuery("<div>",{class:"meta-slider__value js-meta-slider__value","data-value":t.value,text:t.value,style:this.config.isVertical?"height: ".concat(this.itemWidth,"px"):"width: ".concat(this.itemWidth,"px")}).appendTo(i),i}},{key:"bindEventListeners",value:function(){$(this.$scale).on("click touchstart",this.handleScaleClick.bind(this))}},{key:"handleScaleClick",value:function(t){var e=this.observer;if(t.target.dataset.value){var i=Number(t.target.dataset.value);e.notify("scaleClick",i)}}}])&&a(e.prototype,i),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$handle=e,this.$tip=jQuery("<div>"),this.init()}var e,i;return e=t,(i=[{key:"changeTip",value:function(t){this.$tip.html("".concat(t))}},{key:"getElement",value:function(){return this.$tip}},{key:"init",value:function(){this.$tip.addClass("meta-slider__tip js-meta-slider__tip"),this.$tip.appendTo(this.$handle)}}])&&l(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const f=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$track=e,this.observer=new n,this.isVertical=i.isVertical,this.$handle=jQuery("<div>"),this.tip=new h(this.$handle),this.trackStart=null,this.trackWidth=null,this.bindEventListeners(),this.init()}var e,i,r;return e=t,r=[{key:"handleDragStart",value:function(){return!1}}],(i=[{key:"setVertical",value:function(t){this.isVertical=t}},{key:"getElement",value:function(){return this.$handle}},{key:"setTrackParameters",value:function(t){var e=t.trackStart,i=t.trackWidth;this.trackStart=e,this.trackWidth=i}},{key:"moveHandle",value:function(t,e){var i;this.$handle.css(this.isVertical?"top":"left","".concat(e-10,"px")),this.$handle.css(this.isVertical?"left":"top","-5px"),null===(i=this.tip)||void 0===i||i.changeTip(t)}},{key:"toggleTip",value:function(t){t&&!this.tip?this.tip=new h(this.$handle):!t&&this.tip&&(this.tip.getElement().remove(),this.tip=null)}},{key:"init",value:function(){this.$handle.addClass("meta-slider__handle js-meta-slider__handle"),this.$handle.appendTo(this.$track)}},{key:"bindEventListeners",value:function(){this.$handle.on("mousedown touchstart",this.handleHandleMouseDown.bind(this))}},{key:"handleHandleMouseDown",value:function(e){e.preventDefault(),$(document).on("mousemove",this.handleMouseMove.bind(this)),$(document).on("touchmove",this.handleTouchMove.bind(this)),$(document).on("mouseup touchend",this.handleMoveEnd.bind(this)),$(document).on("dragstart",t.handleDragStart)}},{key:"handleMouseMove",value:function(t){var e=this.isVertical?t.pageY:t.pageX,i=this.getCorrectPosition(e),n=i.correctedPosition;i.isInScale&&this.observer.notify("mouseMove",n)}},{key:"getCorrectPosition",value:function(t){if(this.trackWidth&&null!==this.trackStart){var e=Math.round(t-this.trackStart);return{correctedPosition:e,isInScale:e>=0&&e<=this.trackWidth}}throw new Error("wrong track positions")}},{key:"handleTouchMove",value:function(t){var e=null==t?void 0:t.touches,i=e[0],n=this.isVertical?i.pageY:i.pageX,r=this.getCorrectPosition(n),o=r.correctedPosition,s=r.isInScale;void 0!==e&&s&&this.observer.notify("mouseMove",o)}},{key:"handleMoveEnd",value:function(){$(document).off("mousemove mouseup touchmove touchend"),this.observer.notify("moveEnd",0)}}])&&u(e.prototype,i),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const d=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$track=e,this.$interval=jQuery("<div>"),this.isVertical=i.isVertical,this.withRange=i.withRange,this.init()}var e,i;return e=t,(i=[{key:"setVertical",value:function(t){this.isVertical=t}},{key:"setRange",value:function(t){this.withRange=t}},{key:"moveInterval",value:function(t,e){var i,n;this.withRange?(i=Math.min(t,e)+10,n=Math.abs(e-t)-20-2):(i=0,n=t-10-2),n=n>0?n:0,this.$interval.css(this.isVertical?"height":"width","".concat(n,"px")),this.$interval.css(this.isVertical?"width":"height","10px"),this.$interval.css(this.isVertical?"top":"left","".concat(i,"px")),this.$interval.css(this.isVertical?"left":"top","0px")}},{key:"init",value:function(){this.$interval.addClass("meta-slider__interval js-meta-slider__interval"),this.$interval.appendTo(this.$track)}}])&&v(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const m=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$root=e,this.config=i,this.observer=new n,this.$slider=jQuery("<div>"),this.track=new o(this.$slider,this.config),this.scale=new c(this.$slider,this.config),this.firstHandle=new f(this.track.getElement(),this.config),this.secondHandle=null,this.interval=new d(this.track.getElement(),this.config),this.init()}var e,i;return e=t,(i=[{key:"changeConfig",value:function(t){var e=this;this.config=t,this.scale.setConfig(t),this.toggleDirection(),this.toggleRange(),this.toggleTip(),this.track.getElement().ready((function(){e.initTrackParameters()}))}},{key:"getPositions",value:function(){return this.scale.getPositions()}},{key:"setParameters",value:function(t){var e;this.firstHandle.moveHandle(t.from,t.fromPosition),t.withRange&&(null===(e=this.secondHandle)||void 0===e||e.moveHandle(t.to,t.toPosition)),this.interval.moveInterval(t.fromPosition,t.toPosition)}},{key:"initTrackParameters",value:function(){var t,e=this.track.getTrackParameters();this.scale.initPositions(e),this.firstHandle.setTrackParameters(e),null===(t=this.secondHandle)||void 0===t||t.setTrackParameters(e),this.observer.notify("init",null)}},{key:"init",value:function(){var t=this;this.$slider.addClass("meta-slider js-meta-slider meta-slider_horizontal"),this.$slider.prependTo(this.$root),this.track.observer.subscribe({key:"trackClick",observer:this.trackClick.bind(this)}),this.scale.observer.subscribe({key:"scaleClick",observer:this.scaleClick.bind(this)}),this.firstHandle.observer.subscribe({key:"mouseMove",observer:this.mouseMove.bind(this,"from")}),this.firstHandle.observer.subscribe({key:"moveEnd",observer:this.mouseMoveEnd.bind(this)}),this.track.getElement().ready((function(){t.initTrackParameters()}))}},{key:"toggleDirection",value:function(){var t,e=this.config.isVertical;this.$slider.removeClass(e?"meta-slider_horizontal":"meta-slider_vertical").addClass(e?"meta-slider_vertical":"meta-slider_horizontal"),this.track.setVertical(e),this.firstHandle.setVertical(e),null===(t=this.secondHandle)||void 0===t||t.setVertical(e),this.interval.setVertical(e)}},{key:"toggleRange",value:function(){var t=this.config,e=t.withRange,i=t.isVertical;this.interval.setRange(e),e&&!this.secondHandle?(this.secondHandle=new f(this.track.getElement(),this.config),this.secondHandle.setVertical(i),this.secondHandle.observer.subscribe({key:"mouseMove",observer:this.mouseMove.bind(this,"to")}),this.secondHandle.observer.subscribe({key:"moveEnd",observer:this.mouseMoveEnd.bind(this)})):!e&&this.secondHandle&&(this.secondHandle.getElement().remove(),this.secondHandle=null)}},{key:"toggleTip",value:function(){var t,e=this.config.hasTip;this.firstHandle.toggleTip(e),null===(t=this.secondHandle)||void 0===t||t.toggleTip(e)}},{key:"trackClick",value:function(t){var e={position:t};this.observer.notify("moveHandle",e)}},{key:"mouseMove",value:function(t,e){var i={key:t,position:e};this.observer.notify("moveHandle",i)}},{key:"mouseMoveEnd",value:function(){this.observer.notify("moveEnd",null)}},{key:"scaleClick",value:function(t){var e={value:t};this.observer.notify("moveHandle",e)}}])&&p(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){g(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var k={min:10,max:40,step:4,from:8,to:24,isVertical:!1,hasTip:!0,withRange:!0},w=(b(b({},{min:0,max:10,step:1,from:2,to:8,isVertical:!1,hasTip:!0,withRange:!0}),{},{fromPosition:100,toPosition:400}),["fromPosition","toPosition"]);function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach((function(e){j(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function j(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function C(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.config=this.createConfig(this.options),this.positions=[]}var e,i,n;return e=t,i=[{key:"init",value:function(t){this.positions=t,this.correctConfigByPositions()}},{key:"correctParameters",value:function(){var t=this.config.from>this.config.to;if(this.config.withRange&&t){var e,i=O({},this.config),n=i.from,r=i.fromPosition;this.config.from=this.config.to,this.config.fromPosition=this.config.toPosition,this.config.to=n,this.config.toPosition=r,null===(e=this.options.onChange)||void 0===e||e.call(this,this.getOptions())}}},{key:"changeParameter",value:function(t){var e,i=this.takeClosestParameter(t),n=t.key||this.createType(t);this.config[n]=i.value,this.config["".concat(n,"Position")]=i.position,null===(e=this.options.onChange)||void 0===e||e.call(this,this.getOptions())}},{key:"setOptions",value:function(t){var e=$.extend(this.options,this.config,t);this.options=$.extend(this.options,t),this.config=this.createConfig(e)}},{key:"getConfig",value:function(){return this.config}},{key:"getOptions",value:function(){var t=this.config;return t.fromPosition,t.toPosition,function(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}(t,w)}},{key:"createConfig",value:function(t){var e=this.correctTypes(t);return this.correctValues(e)}},{key:"correctTypes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options,e=$.extend({},k,{fromPosition:0,toPosition:0});return e.max=Number.isFinite(Number(t.max))?Number(t.max):k.max,e.min=Number.isFinite(Number(t.min))?Number(t.min):k.min,e.step=Number.isFinite(Number(t.step))?Number(t.step):k.step,e.from=Number.isFinite(Number(t.from))?Number(t.from):k.from,e.to=Number.isFinite(Number(t.to))?Number(t.to):k.to,e.isVertical="boolean"==typeof t.isVertical?t.isVertical:k.isVertical,e.hasTip="boolean"==typeof t.hasTip?t.hasTip:k.hasTip,e.withRange="boolean"==typeof t.withRange?t.withRange:k.withRange,e}},{key:"correctValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config,e=O({},t);e.max=t.max>t.min?t.max:t.min,e.min=t.max>t.min?t.min:t.max,e.max=t.max===t.min?t.min+10:e.max;var i=e.max-e.min;return e.step=e.step>i?i:e.step,e.from=t.from<t.min?t.min:t.from,e.to=t.to&&t.to>t.max?t.max:t.to,e}},{key:"correctConfigByPositions",value:function(){var e=this;["from","to"].forEach((function(i){var n=i,r=e.positions.map((function(t){return t.value})),o=t.takeClosestIndex(e.config[n],r);e.config[n]=e.positions[o].value,e.config["".concat(n,"Position")]=e.positions[o].position}))}},{key:"createType",value:function(e){if(!this.config.withRange)return"from";var i,n=e.value,r=e.position;if(n&&!r){var o=[this.config.from,this.config.to];i=t.takeClosestIndex(n,o)}if(r&&!n){var s=[this.config.fromPosition,this.config.toPosition];i=t.takeClosestIndex(r,s)}return 0===i?"from":"to"}},{key:"takeClosestParameter",value:function(e){if(e.position){var i=t.takeClosestIndex(e.position,this.positions.map((function(t){return t.position})));return this.positions[i]}if(e.value){var n=t.takeClosestIndex(e.value,this.positions.map((function(t){return t.value})));return this.positions[n]}throw new Error("wrong parameters")}}],n=[{key:"takeClosestIndex",value:function(t,e){var i=e.reduce((function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e}));return e.indexOf(i)}}],i&&C(e.prototype,i),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const S=E;function T(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const x=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$root=e,this.options=i,this.model=new S(this.options),this.view=new m(this.$root,this.model.getConfig()),this.init()}var e,i;return e=t,(i=[{key:"setOptions",value:function(t){this.model.setOptions(t),this.view.changeConfig(this.model.getConfig())}},{key:"getOptions",value:function(){return this.model.getOptions()}},{key:"init",value:function(){this.view.observer.subscribe({key:"init",observer:this.initParameters.bind(this)}),this.view.observer.subscribe({key:"moveHandle",observer:this.changeParameters.bind(this)}),this.view.observer.subscribe({key:"moveEnd",observer:this.correctParameters.bind(this)})}},{key:"initParameters",value:function(){this.model.init(this.view.getPositions()),this.view.setParameters(this.model.getConfig())}},{key:"changeParameters",value:function(t){this.model.changeParameter(t),this.view.setParameters(this.model.getConfig())}},{key:"correctParameters",value:function(){this.model.correctParameters(),this.view.setParameters(this.model.getConfig())}}])&&T(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function V(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const M=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.presenter=new x(e,i)}var e,i;return e=t,(i=[{key:"setOptions",value:function(t){this.presenter.setOptions(t)}},{key:"getOptions",value:function(){return this.presenter.getOptions()}}])&&V(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function H(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(t){var e={init:function(e){var i=this,n=t.extend({},k,e),r=new M(this,n);t.each(n,(function(t,e){i.attr("data-".concat(String(t)),"".concat(e))})),this.data("slider",r)},setOptions:function(e){var i=this;this.data("slider").setOptions(e);var n=this.data("slider").getOptions();t.each(n,(function(t,e){i.attr("data-".concat(String(t)),"".concat(e))}))},getOptions:function(){return this.data("slider").getOptions()}};t.fn.MetaSlider=function(i,n){var r=t(this);if(!i||"init"===i){var o=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){H(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},r.data())||{};return e.init.apply(r,[n||o]),this}return"getOptions"===i?e[i].apply(r):"setOptions"===i&&n?(e[i].apply(r,[n]),this):(t.error("Method ".concat(i," does not exist on jQuery.tooltip")),this)}}(jQuery);const N=M;return e})()));
//# sourceMappingURL=index.js.map