{"version":3,"file":"index.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAoB,WAAID,IAExBD,EAAiB,WAAIC,IARvB,CASGK,MAAM,I,mBCRT,IAAIC,EAAsB,CCA1BA,EAAwB,CAACL,EAASM,KACjC,IAAI,IAAIC,KAAOD,EACXD,EAAoBG,EAAEF,EAAYC,KAASF,EAAoBG,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EF,EAAwB,CAACQ,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFT,EAAyBL,IACH,oBAAXkB,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeV,EAASkB,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeV,EAAS,aAAc,CAAEoB,OAAO,M,yMCkBvD,QArBMC,WAGJ,c,4FAAc,SACZC,KAAKC,UAAY,G,8CAInB,SAAiBC,GACfF,KAAKC,UAAUE,KAAKD,K,oBAGtB,SAAcjB,EAAamB,GACzBJ,KAAKC,UAAUI,SAAQ,SAACC,GAClBA,EAAKrB,MAAQA,GACfqB,EAAKC,SAASH,W,sEAfhBL,G,sKCmEN,QAhEMS,WAaJ,WAAYC,EAA8BC,I,4FAAiB,SACzDV,KAAKS,QAAUA,EACfT,KAAKO,SAAW,IAAIR,EACpBC,KAAKW,OAASC,OAAO,SACrBZ,KAAKa,WAAaH,EAAOG,WACzBb,KAAKc,WAAa,KAClBd,KAAKe,WAAa,KAClBf,KAAKgB,O,gDAGP,SAAmBH,GACjBb,KAAKa,WAAaA,I,wBAGpB,WACE,OAAOb,KAAKW,S,gCAGd,WACE,IAAMM,EAAWjB,KAAKW,OAAOM,WAC7BjB,KAAKc,WAAad,KAAKa,WACnBK,OAAOD,EAASE,KAChBD,OAAOD,EAASG,MACpB,IAAML,EAAaf,KAAKa,WACpBb,KAAKW,OAAOU,IAAI,UAChBrB,KAAKW,OAAOU,IAAI,SAEpB,OADArB,KAAKe,WAAaO,WAAWP,GACtB,CAAED,WAAYd,KAAKc,WAAYC,WAAYf,KAAKe,c,kBAGzD,WACEf,KAAKW,OAAOY,SAAS,4CACrBvB,KAAKW,OAAOa,SAASxB,KAAKS,SAC1BT,KAAKyB,uB,gCAGP,WACEzB,KAAKW,OAAOe,GAAG,QAAS1B,KAAK2B,iBAAiBC,KAAK5B,S,8BAGrD,SAAyB6B,GACvB,IAAMC,EAAgB9B,KAAKa,WACVgB,EAAOE,MACPF,EAAOG,MACxB,GAAwB,OAApBhC,KAAKc,WAGA,MAAM,IAAImB,MAAM,qBAFvB,IAAMhB,EAAWiB,KAAKC,MAAML,EAAgB9B,KAAKc,YACjDd,KAAKO,SAAS6B,OAAO,aAAcnB,Q,sEA3DnCT,G,gRCkMN,QA9LM6B,WAeJ,WAAY5B,EAA8BC,I,4FAAiB,SACzDV,KAAKS,QAAUA,EACfT,KAAKU,OAASA,EACdV,KAAKO,SAAW,IAAIR,EACpBC,KAAKsC,OAAS1B,OAAO,SACrBZ,KAAKuC,UAAY,GACjBvC,KAAKwC,UAAY,GACjBxC,KAAKyC,UAAY,KACjBzC,KAAKgB,O,iDA0CP,SAAmB0B,EAAqBC,GAEtC,GADyBD,EAAME,OAASD,EAEtC,OAAOD,EAET,IAAMG,EAAYX,KAAKC,MAAMO,EAAME,OAASD,GAS5C,OARuBD,EAAMI,QAAO,SAACxC,EAAMyC,GACzC,IAAMC,EAAuBD,EAAIF,GAAc,EACzCI,EAAaF,IAAML,EAAME,OAAS,EACxC,SAAII,IAAwBC,IACnB3C,O,8BAOb,SAAwBoC,EAAqBQ,GAC3C,I,EAAMC,E,+CAAqBT,I,gkBACrBU,EAAmBlC,OAAOwB,EAAMA,EAAME,OAAS,GAAG3B,UAClDoC,EAAuBnC,OAAOwB,EAAMA,EAAME,OAAS,GAAG3B,UAK5D,OAJ0BiB,KAAKoB,IAAID,EAAuBD,GAAoBF,GAE5EC,EAAeI,OAAOb,EAAME,OAAS,EAAG,GAEnCO,M,0BAhET,SAAiBzC,GACfV,KAAKU,OAASA,I,2BAGhB,SAAqB8C,GACnBxD,KAAKyC,UAAYe,EAAgBzC,WACjC,MAA2Bf,KAAKU,OAAxB+C,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IAAKC,EAAlB,EAAkBA,KACZC,EAAQF,EAAMD,EACdI,EAAYF,EAAKG,WAAWC,MAAM,KAClCC,EAAwC,IAArBH,EAAUjB,OAAV,SAAyB,GAAMiB,EAAU,GAAGjB,QAAS,EACxEqB,EAAcjE,KAAKyC,UAAYmB,EAASD,EACxCO,EAAUD,EAAa,EAAI/B,KAAKiC,MAAM,EAAIF,GAAc,EACxDG,EAAalC,KAAKiC,MAAMP,EAAQD,EAAOO,GACvCG,EAAWC,MAAMF,EAAa,GAC9BG,EAAsB,GAAPZ,EAAYO,EAC3BM,EAAiBP,EAAaC,EAChC3B,EAA0B,GACxBkC,EAAYH,MAAMI,KACtBL,GACA,SAACM,EAAG5B,GAAJ,OAAUU,EACNvB,KAAKC,MAAMoC,EAAexB,EAAIiB,IAC3B,GAAKA,MAEdzB,EAAYkC,EAAUG,KAAI,SAACC,EAAI9B,GAG7B,MAAO,CAAEjD,MAFaoC,KAAKC,MAAM0C,EAAKb,GAAoBA,EAE1C/C,SADCiB,KAAKC,MAAMqC,EAAiBzB,OAG3C0B,EAAUA,EAAU7B,OAAS,KAAOc,GACtCnB,EAAUpC,KAAK,CAAEL,MAAO4D,EAAKzC,SAAUjB,KAAKyC,YAE9CzC,KAAKuC,UAAYA,EACjBvC,KAAK8E,c,0BAGP,WACE,OAAO9E,KAAKuC,Y,kBA+Bd,WACEvC,KAAKsC,OAAOf,SAAS,4CACrBvB,KAAKsC,OAAOd,SAASxB,KAAKS,SAC1BT,KAAKyB,uB,uBAGP,WACEzB,KAAKsC,OAAOyC,QACZ/E,KAAKwC,UAAYxC,KAAKgF,YACtBhF,KAAKiF,c,uBAGP,WAA4B,WACpBC,EAAqB,GACrBvC,EAAO3C,KAAKU,OAAOG,WAAa,SAAW,QAYjD,OAXAb,KAAKuC,UAAUlC,SAAQ,SAACC,GACtB,IAAM6E,EAAavE,OAAO,QAAS,CAAEwE,KAAM9E,EAAKR,QAAS0B,SACvD,EAAKc,QAEP6C,EAAW9D,IAAIsB,EAAM,eACrB,IAAMH,EAAY,EAAK9B,OAAOG,WAC1BsE,EAAWE,SACXF,EAAWjC,QACfgC,EAAS/E,KAAKqC,GAAa,GAC3B2C,EAAWG,YAENpD,KAAKwB,IAAI6B,MAAM,KAAML,GAAY,K,uBAG1C,WAA0B,WAClBM,EAAWxF,KAAKyF,kBAChBC,EAAY9E,OAAO,QAAS,CAChC+E,MAAO,qDAETH,EAASnF,SAAQ,SAACC,GAChB,IAAMW,EAAWX,EAAKW,SAAW,EAAKuB,UAAY,EAC5C2C,EAAa,EAAKS,WAAWtF,EAAMW,GACzCyE,EAAUG,OAAOV,MAEnBnF,KAAKsC,OAAOuD,OAAOH,K,6BAGrB,WACE,GAAI1F,KAAKyC,UAAW,CAClB,IAAMqD,EAAgB5D,KAAKiC,MAAMnE,KAAKyC,UAAYzC,KAAKwC,WACjDgD,EAAyBnD,EAAM0D,YACnC/F,KAAKuC,UACLuD,GAMF,OAJ0BzD,EAAM2D,iBAC9BR,EACAxF,KAAKwC,WAIT,MAAM,IAAIP,MAAM,yB,wBAGlB,SAAmB3B,EAAkBW,GACnC,IAAMkE,EAAavE,OAAO,QAAS,CACjC+E,MAAO,qDACPM,MAAOjG,KAAKU,OAAOG,WAAZ,eACKI,EADL,4BACiCjB,KAAKwC,UADtC,sBAEMvB,EAFN,QAkBT,OAdcL,OAAO,QAAS,CAC5B+E,MAAO,oBACPP,KAAMpF,KAAKU,OAAOG,WAAa,IAAW,MAEtCW,SAAS2D,GACAvE,OAAO,QAAS,CAC7B+E,MAAO,2CACP,aAAcrF,EAAKR,MACnBsF,KAAM9E,EAAKR,MACXmG,MAAOjG,KAAKU,OAAOG,WAAZ,kBACQb,KAAKwC,UADb,uBAEOxC,KAAKwC,UAFZ,QAIFhB,SAAS2D,GACTA,I,gCAGT,WACEe,EAAElG,KAAKsC,QAAQZ,GAAG,mBAAoB1B,KAAKmG,iBAAiBvE,KAAK5B,S,8BAGnE,SAAyB6B,GACvB,IAAQtB,EAAaP,KAAbO,SACR,GAAuBsB,EAAMuE,OAAQC,QAAQvG,MAAO,CAClD,IAAMwG,EAAepF,OACAW,EAAMuE,OAAQC,QAAQvG,OAE3CS,EAAS6B,OAAO,aAAckE,S,gFAzL9BjE,G,sKCkBN,QAzBMkE,WAKJ,WAAYC,I,4FAA8B,SACxCxG,KAAKwG,QAAUA,EACfxG,KAAKyG,KAAO7F,OAAO,SACnBZ,KAAKgB,O,8CAGP,SAAiBV,GACfN,KAAKyG,KAAKC,KAAV,UAAkBpG,M,wBAGpB,WACE,OAAON,KAAKyG,O,kBAGd,WACEzG,KAAKyG,KAAKlF,SAAS,wCACnBvB,KAAKyG,KAAKjF,SAASxB,KAAKwG,c,sEArBtBD,G,sKC+HN,QA1HMI,WAeJ,WAAYhG,EAA6BD,I,4FAAiB,SACxDV,KAAKW,OAASA,EACdX,KAAKO,SAAW,IAAIR,EACpBC,KAAKa,WAAaH,EAAOG,WACzBb,KAAKwG,QAAU5F,OAAO,SACtBZ,KAAK4G,IAAM,IAAIL,EAAIvG,KAAKwG,SACxBxG,KAAKc,WAAa,KAClBd,KAAKe,WAAa,KAClBf,KAAKyB,qBACLzB,KAAKgB,O,qDAoCP,WACE,OAAO,M,4BAlCT,SAAmBH,GACjBb,KAAKa,WAAaA,I,wBAGpB,WACE,OAAOb,KAAKwG,U,gCAGd,SAA0BhD,GACxB,IAAQ1C,EAA2B0C,EAA3B1C,WAAYC,EAAeyC,EAAfzC,WACpBf,KAAKc,WAAaA,EAClBd,KAAKe,WAAaA,I,wBAGpB,SAAkBT,EAAcuG,GAA4B,MAC1D7G,KAAKwG,QAAQnF,IACXrB,KAAKa,WAAa,MAAQ,OAD5B,UAEKgG,EAAe,GAFpB,OAIA7G,KAAKwG,QAAQnF,IAAIrB,KAAKa,WAAa,OAAS,MAAO,QACnD,UAAAb,KAAK4G,WAAL,SAAUE,UAAUxG,K,uBAGtB,SAAiByG,GACXA,IAAW/G,KAAK4G,IAClB5G,KAAK4G,IAAM,IAAIL,EAAIvG,KAAKwG,UACdO,GAAU/G,KAAK4G,MACN5G,KAAK4G,IAAII,aACjB1B,SACXtF,KAAK4G,IAAM,Q,kBAQf,WACE5G,KAAKwG,QAAQjF,SAAS,8CACtBvB,KAAKwG,QAAQhF,SAASxB,KAAKW,U,gCAG7B,WACEX,KAAKwG,QAAQ9E,GACX,uBACA1B,KAAKiH,sBAAsBrF,KAAK5B,S,mCAIpC,SAA8B6B,GAC5BA,EAAMqF,iBACNhB,EAAEiB,UAAUzF,GAAG,YAAa1B,KAAKoH,gBAAgBxF,KAAK5B,OACtDkG,EAAEiB,UAAUzF,GAAG,YAAa1B,KAAKqH,gBAAgBzF,KAAK5B,OACtDkG,EAAEiB,UAAUzF,GAAG,mBAAoB1B,KAAKsH,cAAc1F,KAAK5B,OAC3DkG,EAAEiB,UAAUzF,GAAG,YAAaiF,EAAOY,mB,6BAGrC,SAAwB1F,GACtB,IAAMC,EAAgB9B,KAAKa,WACVgB,EAAOE,MACPF,EAAOG,MACxB,EAAyChC,KAAKwH,mBAAmB1F,GAAzD2F,EAAR,EAAQA,kBAAR,EAA2BC,WAEzB1H,KAAKO,SAAS6B,OAAO,YAAaqF,K,gCAItC,SAA2BE,GAIzB,GAAI3H,KAAKe,YAAkC,OAApBf,KAAKc,WAAqB,CAC/C,IAAM2G,EAAoBvF,KAAKC,MAAMwF,EAAgB3H,KAAKc,YAE1D,MAAO,CAAE2G,kBAAAA,EAAmBC,UADVD,GAAqB,GAAKA,GAAqBzH,KAAKe,YAGxE,MAAM,IAAIkB,MAAM,2B,6BAGlB,SAAwBJ,GACtB,IAAM+F,EAAuB/F,aAAhB,EAAgBA,EAAQ+F,QAC/BC,EAAQD,EAAQ,GAChBE,EAAgB9H,KAAKa,WAAagH,EAAM9F,MAAQ8F,EAAM7F,MAC5D,EAAyChC,KAAKwH,mBAAmBM,GAAzDL,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,eACXK,IAAZH,GAAyBF,GAC3B1H,KAAKO,SAAS6B,OAAO,YAAaqF,K,2BAItC,WACEvB,EAAEiB,UAAUa,IAAI,wCAChBhI,KAAKO,SAAS6B,OAAO,UAAW,Q,gFAtH9BuE,G,sKC8CN,QAlDMsB,WASJ,WAAYtH,EAA6BD,I,4FAAiB,SACxDV,KAAKW,OAASA,EACdX,KAAKkI,UAAYtH,OAAO,SACxBZ,KAAKa,WAAaH,EAAOG,WACzBb,KAAKmI,UAAYzH,EAAOyH,UACxBnI,KAAKgB,O,gDAGP,SAAmBH,GACjBb,KAAKa,WAAaA,I,sBAGpB,SAAgBsH,GACdnI,KAAKmI,UAAYA,I,0BAGnB,SAAoBC,EAAsBC,GACxC,IAAI5E,EACAP,EAGAlD,KAAKmI,WACP1E,EAAMvB,KAAKuB,IAAI2E,EAAcC,GAAcC,GAC3CpF,EAAQhB,KAAKoB,IAAI+E,EAAaD,GAJZ,GACR,IAKV3E,EAAM,EACNP,EAAQkF,EAAeE,GANb,GAQZpF,EAAQA,EAAQ,EAAIA,EAAQ,EAC5BlD,KAAKkI,UAAU7G,IAAIrB,KAAKa,WAAa,SAAW,QAAhD,UAA4DqC,EAA5D,OACAlD,KAAKkI,UAAU7G,IAAIrB,KAAKa,WAAa,QAAU,SAAU,QACzDb,KAAKkI,UAAU7G,IAAIrB,KAAKa,WAAa,MAAQ,OAA7C,UAAwD4C,EAAxD,OACAzD,KAAKkI,UAAU7G,IAAIrB,KAAKa,WAAa,OAAS,MAAO,S,kBAGvD,WACEb,KAAKkI,UAAU3G,SAAS,kDACxBvB,KAAKkI,UAAU1G,SAASxB,KAAKW,a,sEA9C3BsH,G,sKCsKN,QA1JMM,WAmBJ,WAAYC,EAA4B9H,I,4FAAiB,SACvDV,KAAKwI,MAAQA,EACbxI,KAAKU,OAASA,EACdV,KAAKO,SAAW,IAAIR,EACpBC,KAAKS,QAAUG,OAAO,SACtBZ,KAAKyI,MAAQ,IAAIjI,EAAMR,KAAKS,QAAST,KAAKU,QAC1CV,KAAK0I,MAAQ,IAAIrG,EAAMrC,KAAKS,QAAST,KAAKU,QAC1CV,KAAK2I,YAAc,IAAIhC,EAAO3G,KAAKyI,MAAMzB,aAAchH,KAAKU,QAC5DV,KAAK4I,aAAe,KACpB5I,KAAK6I,SAAW,IAAIZ,EAASjI,KAAKyI,MAAMzB,aAAchH,KAAKU,QAC3DV,KAAKgB,O,iDAGP,SAAoBN,GAAiB,WACnCV,KAAKU,OAASA,EACdV,KAAK0I,MAAMI,UAAUpI,GACrBV,KAAK+I,kBACL/I,KAAKgJ,cACLhJ,KAAKiJ,YACLjJ,KAAKyI,MAAMzB,aAAakC,OAAM,WAC5B,EAAKC,2B,0BAIT,WACE,OAAOnJ,KAAK0I,MAAMU,iB,2BAGpB,SAAqB1I,GAEG,MADtBV,KAAK2I,YAAYU,WAAW3I,EAAOgE,KAAMhE,EAAO0H,cAC5C1H,EAAOyH,YACT,UAAAnI,KAAK4I,oBAAL,SAAmBS,WAAW3I,EAAO4I,GAAI5I,EAAO2H,aAGlDrI,KAAK6I,SAASU,aAAa7I,EAAO0H,aAAc1H,EAAO2H,c,iCAGzD,WAAmC,MAC3B7E,EAAkBxD,KAAKyI,MAAMe,qBACnCxJ,KAAK0I,MAAMe,cAAcjG,GACzBxD,KAAK2I,YAAYe,mBAAmBlG,GACpC,UAAAxD,KAAK4I,oBAAL,SAAmBc,mBAAmBlG,GACtCxD,KAAKO,SAAS6B,OAAO,OAAQ,Q,kBAG/B,WAAqB,WACnBpC,KAAKS,QAAQc,SAAS,qDACtBvB,KAAKS,QAAQkJ,UAAU3J,KAAKwI,OAC5BxI,KAAKyI,MAAMlI,SAASqJ,UAAU,CAC5B3K,IAAK,aACLsB,SAAUP,KAAK6J,WAAWjI,KAAK5B,QAEjCA,KAAK0I,MAAMnI,SAASqJ,UAAU,CAC5B3K,IAAK,aACLsB,SAAUP,KAAK8J,WAAWlI,KAAK5B,QAEjCA,KAAK2I,YAAYpI,SAASqJ,UAAU,CAClC3K,IAAK,YACLsB,SAAUP,KAAK+J,UAAUnI,KAAK5B,KAAM,UAEtCA,KAAK2I,YAAYpI,SAASqJ,UAAU,CAClC3K,IAAK,UACLsB,SAAUP,KAAKgK,aAAapI,KAAK5B,QAEnCA,KAAKyI,MAAMzB,aAAakC,OAAM,WAC5B,EAAKC,2B,6BAIT,WAAgC,MACtBtI,EAAeb,KAAKU,OAApBG,WACRb,KAAKS,QACFwJ,YACCpJ,EAAa,yBAA2B,wBAEzCU,SAASV,EAAa,uBAAyB,0BAClDb,KAAKyI,MAAMyB,YAAYrJ,GACvBb,KAAK2I,YAAYuB,YAAYrJ,GAC7B,UAAAb,KAAK4I,oBAAL,SAAmBsB,YAAYrJ,GAC/Bb,KAAK6I,SAASqB,YAAYrJ,K,yBAG5B,WACE,MAAkCb,KAAKU,OAA/ByH,EAAR,EAAQA,UAAWtH,EAAnB,EAAmBA,WACnBb,KAAK6I,SAASsB,SAAShC,GACnBA,IAAcnI,KAAK4I,cACrB5I,KAAK4I,aAAe,IAAIjC,EAAO3G,KAAKyI,MAAMzB,aAAchH,KAAKU,QAC7DV,KAAK4I,aAAasB,YAAYrJ,GAC9Bb,KAAK4I,aAAarI,SAASqJ,UAAU,CACnC3K,IAAK,YACLsB,SAAUP,KAAK+J,UAAUnI,KAAK5B,KAAM,QAEtCA,KAAK4I,aAAarI,SAASqJ,UAAU,CACnC3K,IAAK,UACLsB,SAAUP,KAAKgK,aAAapI,KAAK5B,UAEzBmI,GAAanI,KAAK4I,eAC5B5I,KAAK4I,aAAa5B,aAAa1B,SAC/BtF,KAAK4I,aAAe,Q,uBAIxB,WAA0B,MAChB7B,EAAW/G,KAAKU,OAAhBqG,OACR/G,KAAK2I,YAAYM,UAAUlC,GAC3B,UAAA/G,KAAK4I,oBAAL,SAAmBK,UAAUlC,K,wBAG/B,SAAmB9F,GACjB,IAAMmJ,EAAwB,CAC5BnJ,SAAAA,GAEFjB,KAAKO,SAAS6B,OAAO,aAAcgI,K,uBAGrC,SAAkBnL,EAAoB6C,GACpC,IAAMsI,EAAwB,CAC5BnL,IAAAA,EACAgC,SAAUa,GAEZ9B,KAAKO,SAAS6B,OAAO,aAAcgI,K,0BAGrC,WACEpK,KAAKO,SAAS6B,OAAO,UAAW,Q,wBAGlC,SAAmBtC,GACjB,IAAMsK,EAAwB,CAC5BtK,MAAAA,GAEFE,KAAKO,SAAS6B,OAAO,aAAcgI,Q,sEAtJjC7B,G,urBCbN,IAAM8B,EAAsB,CAC1B5G,IAAK,GACLC,IAAK,GACLC,KAAM,EACNe,KAAM,EACN4E,GAAI,GACJzI,YAAY,EACZkG,QAAQ,EACRoB,WAAW,G,GAce,EAAH,KAXM,CAC7B1E,IAAK,EACLC,IAAK,GACLC,KAAM,EACNe,KAAM,EACN4E,GAAI,EACJzI,YAAY,EACZkG,QAAQ,EACRoB,WAAW,IAGY,IAEvBC,aAAc,IACdC,WAAY,M,g4BClBRiC,EAAAA,WAOJ,WAAYF,I,4FAAmB,SAC7BpK,KAAKoK,QAAUA,EACfpK,KAAKU,OAASV,KAAKuK,aAAavK,KAAKoK,SACrCpK,KAAKuC,UAAY,G,0CAGnB,SAAYA,GACVvC,KAAKuC,UAAYA,EACjBvC,KAAKwK,6B,+BAGP,WACE,IAAMC,EAAezK,KAAKU,OAAOgE,KAAO1E,KAAKU,OAAO4I,GACpD,GAAItJ,KAAKU,OAAOyH,WAAasC,EAAc,OACzC,OAAoCzK,KAAKU,QAAjCgE,EAAR,EAAQA,KAAM0D,EAAd,EAAcA,aACdpI,KAAKU,OAAOgE,KAAO1E,KAAKU,OAAO4I,GAC/BtJ,KAAKU,OAAO0H,aAAepI,KAAKU,OAAO2H,WACvCrI,KAAKU,OAAO4I,GAAK5E,EACjB1E,KAAKU,OAAO2H,WAAaD,EACzB,UAAApI,KAAKoK,QAAQM,gBAAb,SAAuB/K,KAAKK,KAAMA,KAAK2K,iB,6BAI3C,SAAuBC,GAA6B,MAC5CC,EAAe7K,KAAK8K,qBAAqBF,GACzCG,EAAOH,EAAQ3L,KAAOe,KAAKgL,WAAWJ,GAC5C5K,KAAKU,OAAOqK,GAAQF,EAAa/K,MACjCE,KAAKU,OAAL,UAAeqK,EAAf,aAAiCF,EAAa5J,SAC9C,UAAAjB,KAAKoK,QAAQM,gBAAb,SAAuB/K,KAAKK,KAAMA,KAAK2K,gB,wBAGzC,SAAkBP,GAChB,IAAMa,EAAa/E,EAAEgF,OAAOlL,KAAKoK,QAASpK,KAAKU,OAAQ0J,GACvDpK,KAAKoK,QAAUlE,EAAEgF,OAAOlL,KAAKoK,QAASA,GACtCpK,KAAKU,OAASV,KAAKuK,aAAaU,K,uBAGlC,WACE,OAAOjL,KAAKU,S,wBAGd,WACE,MAAiDV,KAAKU,OACtD,OADA,EAAQ0H,aAAR,EAAsBC,W,kXAAtB,Q,0BASF,SAAqB+B,GACnB,IAAIa,EAAajL,KAAKmL,aAAaf,GAEnC,OADapK,KAAKoL,cAAcH,K,0BAIlC,WAAgE,IAA3Cb,EAA2C,uDAAvBpK,KAAKoK,QACtCa,EAAsB/E,EAAEgF,OAAO,GAAIb,EAAU,CACjDjC,aAAc,EACdC,WAAY,IAwBd,OAtBA4C,EAAWvH,IAAMxC,OAAOmK,SAASnK,OAAOkJ,EAAQ1G,MAC5CxC,OAAOkJ,EAAQ1G,KACf2G,EAAS3G,IACbuH,EAAWxH,IAAMvC,OAAOmK,SAASnK,OAAOkJ,EAAQ3G,MAC5CvC,OAAOkJ,EAAQ3G,KACf4G,EAAS5G,IACbwH,EAAWtH,KAAOzC,OAAOmK,SAASnK,OAAOkJ,EAAQzG,OAC7CzC,OAAOkJ,EAAQzG,MACf0G,EAAS1G,KACbsH,EAAWvG,KAAOxD,OAAOmK,SAASnK,OAAOkJ,EAAQ1F,OAC7CxD,OAAOkJ,EAAQ1F,MACf2F,EAAS3F,KACbuG,EAAW3B,GAAKpI,OAAOmK,SAASnK,OAAOkJ,EAAQd,KAC3CpI,OAAOkJ,EAAQd,IACfe,EAASf,GACb2B,EAAWpK,WAA2C,kBAAvBuJ,EAAQvJ,WACnCuJ,EAAQvJ,WACRwJ,EAASxJ,WACboK,EAAWlE,OAAmC,kBAAnBqD,EAAQrD,OAAuBqD,EAAQrD,OAASsD,EAAStD,OACpFkE,EAAW9C,UAAyC,kBAAtBiC,EAAQjC,UAClCiC,EAAQjC,UACRkC,EAASlC,UACN8C,I,2BAGT,WAA8D,IAAxCvK,EAAwC,uDAAtBV,KAAKU,OACrC4K,EAAgB,KAAK5K,GAC3B4K,EAAc5H,IAAMhD,EAAOgD,IAAMhD,EAAO+C,IAAM/C,EAAOgD,IAAMhD,EAAO+C,IAClE6H,EAAc7H,IAAM/C,EAAOgD,IAAMhD,EAAO+C,IAAM/C,EAAO+C,IAAM/C,EAAOgD,IAClE4H,EAAc5H,IAAMhD,EAAOgD,MAAQhD,EAAO+C,IAAM/C,EAAO+C,IAAM,GAAK6H,EAAc5H,IAChF,IAAME,EAAQ0H,EAAc5H,IAAM4H,EAAc7H,IAIhD,OAHA6H,EAAc3H,KAAO2H,EAAc3H,KAAOC,EAAQA,EAAQ0H,EAAc3H,KACxE2H,EAAc5G,KAAOhE,EAAOgE,KAAOhE,EAAO+C,IAAM/C,EAAO+C,IAAM/C,EAAOgE,KACpE4G,EAAchC,GAAK5I,EAAO4I,IAAM5I,EAAO4I,GAAK5I,EAAOgD,IAAMhD,EAAOgD,IAAMhD,EAAO4I,GACtEgC,I,sCAGT,WAAyC,WACvC,CAAC,OAAQ,MAAMjL,SAAQ,SAACC,GACtB,IAAMiL,EAAcjL,EACdmE,EAAY,EAAKlC,UAAUqC,KAAI,SAACC,GAAD,OAAQA,EAAG/E,SAC1C0L,EAAQlB,EAAMmB,iBAAiB,EAAK/K,OAAO6K,GAAc9G,GAC/D,EAAK/D,OAAO6K,GAAe,EAAKhJ,UAAUiJ,GAAO1L,MACjD,EAAKY,OAAL,UAAe6K,EAAf,aAAwC,EAAKhJ,UAAUiJ,GAAOvK,c,wBAIlE,SAAmByK,GACjB,IAAK1L,KAAKU,OAAOyH,UACf,MAAO,OAET,IACIqD,EADI1L,EAAoB4L,EAApB5L,MAAOmB,EAAayK,EAAbzK,SAEf,GAAInB,IAAUmB,EAAU,CACtB,IAAM0K,EAAS,CAAC3L,KAAKU,OAAOgE,KAAM1E,KAAKU,OAAO4I,IAC9CkC,EAAQlB,EAAMmB,iBAAiB3L,EAAO6L,GAExC,GAAI1K,IAAanB,EAAO,CACtB,IAAMyC,EAAY,CAACvC,KAAKU,OAAO0H,aAAcpI,KAAKU,OAAO2H,YACzDmD,EAAQlB,EAAMmB,iBAAiBxK,EAAUsB,GAE3C,OAAiB,IAAViJ,EAAc,OAAS,O,kCAGhC,SAA6BE,GAC3B,GAAIA,EAAUzK,SAAU,CACtB,IAAMuK,EAAQlB,EAAMmB,iBAClBC,EAAUzK,SACVjB,KAAKuC,UAAUqC,KAAI,SAACtE,GAAD,OAAUA,EAAKW,aAEpC,OAAOjB,KAAKuC,UAAUiJ,GAGxB,GAAIE,EAAU5L,MAAO,CACnB,IAAM0L,EAAQlB,EAAMmB,iBAClBC,EAAU5L,MACVE,KAAKuC,UAAUqC,KAAI,SAACtE,GAAD,OAAUA,EAAKR,UAEpC,OAAOE,KAAKuC,UAAUiJ,GAGxB,MAAM,IAAIvJ,MAAM,uB,iCAjGlB,SAAwB2J,EAAalJ,GACnC,IAAMmJ,EAAUnJ,EAAMoJ,QAAO,SAACC,EAAGC,GAAJ,OAAW9J,KAAKoB,IAAI0I,EAAIJ,GAAO1J,KAAKoB,IAAIyI,EAAIH,GAAOI,EAAID,KACpF,OAAOrJ,EAAMuJ,QAAQJ,M,mFAvDnBvB,GA0JN,U,sKCnGA,QAzDM4B,WASJ,WAAY1N,EAA2B4L,I,4FAAmB,SACxDpK,KAAKwI,MAAQhK,EACbwB,KAAKoK,QAAUA,EACfpK,KAAKmM,MAAQ,IAAI7B,EAAMtK,KAAKoK,SAC5BpK,KAAKoM,KAAO,IAAI7D,EAAKvI,KAAKwI,MAAOxI,KAAKmM,MAAME,aAC5CrM,KAAKgB,O,+CAGP,SAAkBoJ,GAChBpK,KAAKmM,MAAMG,WAAWlC,GACtBpK,KAAKoM,KAAKG,aAAavM,KAAKmM,MAAME,e,wBAGpC,WACE,OAAOrM,KAAKmM,MAAMxB,e,kBAGpB,WACE3K,KAAKoM,KAAK7L,SAASqJ,UAAU,CAC3B3K,IAAK,OACLsB,SAAUP,KAAKwM,eAAe5K,KAAK5B,QAErCA,KAAKoM,KAAK7L,SAASqJ,UAAU,CAC3B3K,IAAK,aACLsB,SAAUP,KAAKyM,iBAAiB7K,KAAK5B,QAEvCA,KAAKoM,KAAK7L,SAASqJ,UAAU,CAC3B3K,IAAK,UACLsB,SAAUP,KAAK0M,kBAAkB9K,KAAK5B,U,4BAI1C,WACEA,KAAKmM,MAAMnL,KAAKhB,KAAKoM,KAAKhD,gBAC1BpJ,KAAKoM,KAAKO,cAAc3M,KAAKmM,MAAME,e,8BAGrC,SAAyBzB,GACvB5K,KAAKmM,MAAMS,gBAAgBhC,GAC3B5K,KAAKoM,KAAKO,cAAc3M,KAAKmM,MAAME,e,+BAGrC,WACErM,KAAKmM,MAAMO,oBACX1M,KAAKoM,KAAKO,cAAc3M,KAAKmM,MAAME,kB,sEArDjCH,G,sKCaN,QAhBMW,WAGJ,WAAYC,EAA8B1C,I,4FAAmB,SAC3DpK,KAAK+M,UAAY,IAAIb,EAAUY,EAAS1C,G,+CAG1C,SAAkBA,GAChBpK,KAAK+M,UAAUT,WAAWlC,K,wBAG5B,WACE,OAAOpK,KAAK+M,UAAUpC,kB,sEAZpBkC,G,uVCiBL,SAAU3G,GACT,IAAM8G,EAAoB,CACxBhM,KADwB,SACQoJ,GAAmB,WAC3C1J,EAASwF,EAAEgF,OAAO,GAAIb,EAAUD,GAChC6C,EAAS,IAAIJ,EAAW7M,KAAMU,GACpCwF,EAAEgH,KAAKxM,GAAQ,SAACzB,EAAKa,GACnB,EAAKqN,KAAL,eAAkBC,OAAOnO,IAAzB,UAAoCa,OAEtCE,KAAKI,KAAK,SAAU6M,IAEtBX,WATwB,SASclC,GAAmB,WACvDpK,KAAKI,KAAK,UAAUkM,WAAWlC,GAC/B,IAAM1J,EAASV,KAAKI,KAAK,UAAUuK,aACnCzE,EAAEgH,KAAKxM,GAAQ,SAACzB,EAAKa,GACnB,EAAKqN,KAAL,eAAkBC,OAAOnO,IAAzB,UAAoCa,QAGxC6K,WAhBwB,WAiBtB,OAAO3K,KAAKI,KAAK,UAAUuK,eAiC/BzE,EAAEhG,GAAG2M,WAvBL,SAEEQ,EACAjD,GAEA,IAAMkD,EAAQpH,EAAElG,MAChB,IAAKqN,GAAqB,SAAXA,EAAmB,CAChC,IAAME,E,+VAAc,IAAKD,EAAMlN,SAAY,GAE3C,OADA4M,EAAQhM,KAAKuE,MAAM+H,EAAO,CAAClD,GAAWmD,IAC/BvN,KAET,MAAe,eAAXqN,EACKL,EAAQK,GAAQ9H,MAAM+H,GAEhB,eAAXD,GAA2BjD,GAC7B4C,EAAQK,GAAQ9H,MAAM+H,EAAO,CAAClD,IACvBpK,OAGTkG,EAAEsH,MAAF,iBAAkBH,EAAlB,sCACOrN,OAhDV,CAoDCY,QAEF,U","sources":["webpack://MetaSlider/webpack/universalModuleDefinition","webpack://MetaSlider/webpack/bootstrap","webpack://MetaSlider/webpack/runtime/define property getters","webpack://MetaSlider/webpack/runtime/hasOwnProperty shorthand","webpack://MetaSlider/webpack/runtime/make namespace object","webpack://MetaSlider/./observer/Observer.ts","webpack://MetaSlider/./view/elements/track/Track.ts","webpack://MetaSlider/./view/elements/scale/Scale.ts","webpack://MetaSlider/./view/elements/tip/Tip.ts","webpack://MetaSlider/./view/elements/handle/Handle.ts","webpack://MetaSlider/./view/elements/interval/Interval.ts","webpack://MetaSlider/./view/View.ts","webpack://MetaSlider/./defaults.ts","webpack://MetaSlider/./model/Model.ts","webpack://MetaSlider/./presenter/Presenter.ts","webpack://MetaSlider/./MetaSlider.ts","webpack://MetaSlider/./index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MetaSlider\"] = factory();\n\telse\n\t\troot[\"MetaSlider\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import IObserver from './interface';\r\n\r\nclass Observer implements IObserver {\r\n  public observers: { key: string, observer: (data: any) => void }[];\r\n\r\n  constructor() {\r\n    this.observers = [];\r\n  }\r\n\r\n  // use type any, cause any can subscribe\r\n  public subscribe(fn: { key: string, observer: (data: any) => void }): void {\r\n    this.observers.push(fn);\r\n  }\r\n\r\n  public notify(key: string, data: any): void {\r\n    this.observers.forEach((item) => {\r\n      if (item.key === key) {\r\n        item.observer(data);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default Observer;\r\n","import { IConfig, ITrackPosition } from '../../../interfaces/interfaces';\r\nimport Observer from '../../../observer/Observer';\r\nimport IObserver from '../../../observer/interface';\r\nimport ITrack from './interface';\r\n\r\nclass Track implements ITrack {\r\n  public observer: IObserver;\r\n\r\n  private $slider: JQuery<HTMLElement>;\r\n\r\n  private $track: JQuery<HTMLElement>;\r\n\r\n  private isVertical: boolean;\r\n\r\n  private trackStart: number | null;\r\n\r\n  private trackWidth: number | null;\r\n\r\n  constructor($slider: JQuery<HTMLElement>, config: IConfig) {\r\n    this.$slider = $slider;\r\n    this.observer = new Observer();\r\n    this.$track = jQuery('<div>');\r\n    this.isVertical = config.isVertical;\r\n    this.trackStart = null;\r\n    this.trackWidth = null;\r\n    this.init();\r\n  }\r\n\r\n  public setVertical(isVertical: boolean): void {\r\n    this.isVertical = isVertical;\r\n  }\r\n\r\n  public getElement(): JQuery<HTMLElement> {\r\n    return this.$track;\r\n  }\r\n\r\n  public getTrackParameters(): ITrackPosition {\r\n    const position = this.$track.position();\r\n    this.trackStart = this.isVertical\r\n      ? Number(position.top)\r\n      : Number(position.left);\r\n    const trackWidth = this.isVertical\r\n      ? this.$track.css('height')\r\n      : this.$track.css('width');\r\n    this.trackWidth = parseFloat(trackWidth);\r\n    return { trackStart: this.trackStart, trackWidth: this.trackWidth };\r\n  }\r\n\r\n  private init(): void {\r\n    this.$track.addClass('meta-slider__track js-meta-slider__track');\r\n    this.$track.appendTo(this.$slider);\r\n    this.bindEventListeners();\r\n  }\r\n\r\n  private bindEventListeners(): void {\r\n    this.$track.on('click', this.handleTrackClick.bind(this));\r\n  }\r\n\r\n  private handleTrackClick(event: Event): void {\r\n    const mousePosition = this.isVertical\r\n      ? (<MouseEvent>event).pageY\r\n      : (<MouseEvent>event).pageX;\r\n    if (this.trackStart !== null) {\r\n      const position = Math.round(mousePosition - this.trackStart);\r\n      this.observer.notify('trackClick', position);\r\n    } else { throw new Error('wrong track start'); }\r\n  }\r\n}\r\n\r\nexport default Track;\r\n","import {\r\n  IConfig,\r\n  IPositions,\r\n  ITrackPosition,\r\n} from '../../../interfaces/interfaces';\r\nimport Observer from '../../../observer/Observer';\r\nimport IObserver from '../../../observer/interface';\r\nimport IScale from './interface';\r\n\r\nclass Scale implements IScale {\r\n  public observer: IObserver;\r\n\r\n  private $slider: JQuery<HTMLElement>;\r\n\r\n  private config: IConfig;\r\n\r\n  private $scale: JQuery<HTMLElement>;\r\n\r\n  private positions: IPositions[];\r\n\r\n  private itemWidth: number;\r\n\r\n  private scaleSize: number | null;\r\n\r\n  constructor($slider: JQuery<HTMLElement>, config: IConfig) {\r\n    this.$slider = $slider;\r\n    this.config = config;\r\n    this.observer = new Observer();\r\n    this.$scale = jQuery('<div>');\r\n    this.positions = [];\r\n    this.itemWidth = 20;\r\n    this.scaleSize = null;\r\n    this.init();\r\n  }\r\n\r\n  public setConfig(config: IConfig): void {\r\n    this.config = config;\r\n  }\r\n\r\n  public initPositions(trackParameters: ITrackPosition): void {\r\n    this.scaleSize = trackParameters.trackWidth;\r\n    const { min, max, step } = this.config;\r\n    const range = max - min;\r\n    const stepArray = step.toString().split('.');\r\n    const fractionalLength = stepArray.length === 2 ? 10 ** stepArray[1].length : 1;\r\n    const stepLength = (this.scaleSize / range) * step;\r\n    const arrStep = stepLength < 1 ? Math.floor(1 / stepLength) : 1;\r\n    const stepsCount = Math.floor(range / step / arrStep);\r\n    const emptyArr = Array(stepsCount + 1);\r\n    const multiplyStep = step * 10 * arrStep;\r\n    const positionLength = stepLength * arrStep;\r\n    let positions: IPositions[] = [];\r\n    const valuesArr = Array.from(\r\n      emptyArr,\r\n      (_, i) => min\r\n        + Math.round(multiplyStep * i * fractionalLength)\r\n          / (10 * fractionalLength),\r\n    );\r\n    positions = valuesArr.map((el, i) => {\r\n      const value: number = Math.round(el * fractionalLength) / fractionalLength;\r\n      const position = Math.round(positionLength * i);\r\n      return { value, position };\r\n    });\r\n    if (valuesArr[valuesArr.length - 1] !== max) {\r\n      positions.push({ value: max, position: this.scaleSize });\r\n    }\r\n    this.positions = positions;\r\n    this.initScale();\r\n  }\r\n\r\n  public getPositions(): IPositions[] {\r\n    return this.positions;\r\n  }\r\n\r\n  static reduceArray(array: IPositions[], size: number): IPositions[] {\r\n    const ispositionsSmall = array.length < size;\r\n    if (ispositionsSmall) {\r\n      return array;\r\n    }\r\n    const arrayStep = Math.round(array.length / size);\r\n    const correctedArray = array.filter((item, i) => {\r\n      const isItemEquivalentStep = i % arrayStep === 0;\r\n      const isLastItem = i === array.length - 1;\r\n      if (isItemEquivalentStep || isLastItem) {\r\n        return item;\r\n      }\r\n      return false;\r\n    });\r\n    return correctedArray;\r\n  }\r\n\r\n  static correctLastItems(array: IPositions[], width: number): IPositions[] {\r\n    const correctedArray = [...array];\r\n    const lastItemPosition = Number(array[array.length - 1].position);\r\n    const prevLastItemPosition = Number(array[array.length - 2].position);\r\n    const isSmallPlaceInEnd = Math.abs(prevLastItemPosition - lastItemPosition) < width;\r\n    if (isSmallPlaceInEnd) {\r\n      correctedArray.splice(array.length - 2, 1);\r\n    }\r\n    return correctedArray;\r\n  }\r\n\r\n  private init(): void {\r\n    this.$scale.addClass('meta-slider__scale js-meta-slider__scale');\r\n    this.$scale.appendTo(this.$slider);\r\n    this.bindEventListeners();\r\n  }\r\n\r\n  private initScale(): void {\r\n    this.$scale.empty();\r\n    this.itemWidth = this.takeWidth();\r\n    this.addValues();\r\n  }\r\n\r\n  private takeWidth(): number {\r\n    const widthArr: number[] = [];\r\n    const size = this.config.isVertical ? 'height' : 'width';\r\n    this.positions.forEach((item) => {\r\n      const $scaleItem = jQuery('<div>', { text: item.value }).appendTo(\r\n        this.$scale,\r\n      );\r\n      $scaleItem.css(size, 'min-content');\r\n      const itemWidth = this.config.isVertical\r\n        ? $scaleItem.height()\r\n        : $scaleItem.width();\r\n      widthArr.push(itemWidth || 0);\r\n      $scaleItem.remove();\r\n    });\r\n    return Math.max.apply(null, widthArr) + 10;\r\n  }\r\n\r\n  private addValues(): void {\r\n    const scaleArr = this.correctScaleArr();\r\n    const $scaleRow = jQuery('<div>', {\r\n      class: 'meta-slider__scale-row js-meta-slider__scale-row',\r\n    });\r\n    scaleArr.forEach((item) => {\r\n      const position = item.position - this.itemWidth / 2;\r\n      const $scaleItem = this.createItem(item, position);\r\n      $scaleRow.append($scaleItem);\r\n    });\r\n    this.$scale.append($scaleRow);\r\n  }\r\n\r\n  private correctScaleArr(): IPositions[] {\r\n    if (this.scaleSize) {\r\n      const maxStepsCount = Math.floor(this.scaleSize / this.itemWidth);\r\n      const scaleArr: IPositions[] = Scale.reduceArray(\r\n        this.positions,\r\n        maxStepsCount,\r\n      );\r\n      const correctedScaleArr = Scale.correctLastItems(\r\n        scaleArr,\r\n        this.itemWidth,\r\n      );\r\n      return correctedScaleArr;\r\n    }\r\n    throw new Error('wrong size of scale');\r\n  }\r\n\r\n  private createItem(item: IPositions, position: number): JQuery<HTMLElement> {\r\n    const $scaleItem = jQuery('<div>', {\r\n      class: 'meta-slider__scale-item js-meta-slider__scale-item',\r\n      style: this.config.isVertical\r\n        ? `top: ${position}px; line-height: ${this.itemWidth}px`\r\n        : `left: ${position}px`,\r\n    });\r\n    const $line = jQuery('<div>', {\r\n      class: 'meta-slider__line',\r\n      text: this.config.isVertical ? '\\u2014' : '|',\r\n    });\r\n    $line.appendTo($scaleItem);\r\n    const $value = jQuery('<div>', {\r\n      class: 'meta-slider__value js-meta-slider__value',\r\n      'data-value': item.value,\r\n      text: item.value,\r\n      style: this.config.isVertical\r\n        ? `height: ${this.itemWidth}px`\r\n        : `width: ${this.itemWidth}px`,\r\n    });\r\n    $value.appendTo($scaleItem);\r\n    return $scaleItem;\r\n  }\r\n\r\n  private bindEventListeners(): void {\r\n    $(this.$scale).on('click touchstart', this.handleScaleClick.bind(this));\r\n  }\r\n\r\n  private handleScaleClick(event: Event): void {\r\n    const { observer } = this;\r\n    if ((<HTMLInputElement>event.target).dataset.value) {\r\n      const currentValue = Number(\r\n        (<HTMLInputElement>event.target).dataset.value,\r\n      );\r\n      observer.notify('scaleClick', currentValue);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Scale;\r\n","import ITip from './interface';\r\n\r\nclass Tip implements ITip {\r\n  private $handle: JQuery<HTMLElement>;\r\n\r\n  private $tip: JQuery<HTMLElement>;\r\n\r\n  constructor($handle: JQuery<HTMLElement>) {\r\n    this.$handle = $handle;\r\n    this.$tip = jQuery('<div>');\r\n    this.init();\r\n  }\r\n\r\n  public changeTip(item: number): void {\r\n    this.$tip.html(`${item}`);\r\n  }\r\n\r\n  public getElement(): JQuery<HTMLElement> {\r\n    return this.$tip;\r\n  }\r\n\r\n  private init(): void {\r\n    this.$tip.addClass('meta-slider__tip js-meta-slider__tip');\r\n    this.$tip.appendTo(this.$handle);\r\n  }\r\n}\r\n\r\nexport default Tip;\r\n","import Observer from '../../../observer/Observer';\r\nimport IObserver from '../../../observer/interface';\r\nimport { IConfig, ITrackPosition } from '../../../interfaces/interfaces';\r\nimport ITip from '../tip/interface';\r\nimport Tip from '../tip/Tip';\r\nimport IHandle from './interface';\r\n\r\nclass Handle implements IHandle {\r\n  public observer: IObserver;\r\n\r\n  private $track: JQuery<HTMLElement>;\r\n\r\n  private $handle: JQuery<HTMLElement>;\r\n\r\n  private isVertical: boolean;\r\n\r\n  private tip: ITip | null;\r\n\r\n  private trackStart: number | null;\r\n\r\n  private trackWidth: number | null;\r\n\r\n  constructor($track: JQuery<HTMLElement>, config: IConfig) {\r\n    this.$track = $track;\r\n    this.observer = new Observer();\r\n    this.isVertical = config.isVertical;\r\n    this.$handle = jQuery('<div>');\r\n    this.tip = new Tip(this.$handle);\r\n    this.trackStart = null;\r\n    this.trackWidth = null;\r\n    this.bindEventListeners();\r\n    this.init();\r\n  }\r\n\r\n  public setVertical(isVertical: boolean): void {\r\n    this.isVertical = isVertical;\r\n  }\r\n\r\n  public getElement(): JQuery<HTMLElement> {\r\n    return this.$handle;\r\n  }\r\n\r\n  public setTrackParameters(trackParameters: ITrackPosition): void {\r\n    const { trackStart, trackWidth } = trackParameters;\r\n    this.trackStart = trackStart;\r\n    this.trackWidth = trackWidth;\r\n  }\r\n\r\n  public moveHandle(item: number, itemPosition: number): void {\r\n    this.$handle.css(\r\n      this.isVertical ? 'top' : 'left',\r\n      `${itemPosition - 20 / 2}px`,\r\n    );\r\n    this.$handle.css(this.isVertical ? 'left' : 'top', '-5px');\r\n    this.tip?.changeTip(item);\r\n  }\r\n\r\n  public toggleTip(hasTip: boolean): void {\r\n    if (hasTip && !this.tip) {\r\n      this.tip = new Tip(this.$handle);\r\n    } else if (!hasTip && this.tip) {\r\n      const tipElement = this.tip.getElement();\r\n      tipElement.remove();\r\n      this.tip = null;\r\n    }\r\n  }\r\n\r\n  static handleDragStart(): boolean {\r\n    return false;\r\n  }\r\n\r\n  private init(): void {\r\n    this.$handle.addClass('meta-slider__handle js-meta-slider__handle');\r\n    this.$handle.appendTo(this.$track);\r\n  }\r\n\r\n  private bindEventListeners(): void {\r\n    this.$handle.on(\r\n      'mousedown touchstart',\r\n      this.handleHandleMouseDown.bind(this),\r\n    );\r\n  }\r\n\r\n  private handleHandleMouseDown(event: Event): void {\r\n    event.preventDefault();\r\n    $(document).on('mousemove', this.handleMouseMove.bind(this));\r\n    $(document).on('touchmove', this.handleTouchMove.bind(this));\r\n    $(document).on('mouseup touchend', this.handleMoveEnd.bind(this));\r\n    $(document).on('dragstart', Handle.handleDragStart);\r\n  }\r\n\r\n  private handleMouseMove(event: Event): void {\r\n    const mousePosition = this.isVertical\r\n      ? (<MouseEvent>event).pageY\r\n      : (<MouseEvent>event).pageX;\r\n    const { correctedPosition, isInScale } = this.getCorrectPosition(mousePosition);\r\n    if (isInScale) {\r\n      this.observer.notify('mouseMove', correctedPosition);\r\n    }\r\n  }\r\n\r\n  private getCorrectPosition(eventPosition: number): {\r\n    correctedPosition: number;\r\n    isInScale: boolean;\r\n  } {\r\n    if (this.trackWidth && this.trackStart !== null) {\r\n      const correctedPosition = Math.round(eventPosition - this.trackStart);\r\n      const isInScale = correctedPosition >= 0 && correctedPosition <= this.trackWidth;\r\n      return { correctedPosition, isInScale };\r\n    }\r\n    throw new Error('wrong track positions');\r\n  }\r\n\r\n  private handleTouchMove(event: Event): void {\r\n    const touches = (<TouchEvent>event)?.touches;\r\n    const touch = touches[0];\r\n    const touchPosition = this.isVertical ? touch.pageY : touch.pageX;\r\n    const { correctedPosition, isInScale } = this.getCorrectPosition(touchPosition);\r\n    if (touches !== undefined && isInScale) {\r\n      this.observer.notify('mouseMove', correctedPosition);\r\n    }\r\n  }\r\n\r\n  private handleMoveEnd(): void {\r\n    $(document).off('mousemove mouseup touchmove touchend');\r\n    this.observer.notify('moveEnd', 0);\r\n  }\r\n}\r\n\r\nexport default Handle;\r\n","import { IConfig } from '../../../interfaces/interfaces';\r\nimport IInterval from './interface';\r\n\r\nclass Interval implements IInterval {\r\n  private $track: JQuery<HTMLElement>;\r\n\r\n  private $interval: JQuery<HTMLElement>;\r\n\r\n  private isVertical: boolean;\r\n\r\n  private withRange: boolean;\r\n\r\n  constructor($track: JQuery<HTMLElement>, config: IConfig) {\r\n    this.$track = $track;\r\n    this.$interval = jQuery('<div>');\r\n    this.isVertical = config.isVertical;\r\n    this.withRange = config.withRange;\r\n    this.init();\r\n  }\r\n\r\n  public setVertical(isVertical: boolean): void {\r\n    this.isVertical = isVertical;\r\n  }\r\n\r\n  public setRange(withRange: boolean): void {\r\n    this.withRange = withRange;\r\n  }\r\n\r\n  public moveInterval(fromPosition: number, toPosition: number): void {\r\n    let min: number;\r\n    let width: number;\r\n    const handleWidth = 20;\r\n    const gap = 2; // to make a gap between interval and handle\r\n    if (this.withRange) {\r\n      min = Math.min(fromPosition, toPosition) + handleWidth / 2;\r\n      width = Math.abs(toPosition - fromPosition) - handleWidth - gap;\r\n    } else {\r\n      min = 0;\r\n      width = fromPosition - handleWidth / 2 - gap;\r\n    }\r\n    width = width > 0 ? width : 0;\r\n    this.$interval.css(this.isVertical ? 'height' : 'width', `${width}px`);\r\n    this.$interval.css(this.isVertical ? 'width' : 'height', '10px');\r\n    this.$interval.css(this.isVertical ? 'top' : 'left', `${min}px`);\r\n    this.$interval.css(this.isVertical ? 'left' : 'top', '0px');\r\n  }\r\n\r\n  private init(): void {\r\n    this.$interval.addClass('meta-slider__interval js-meta-slider__interval');\r\n    this.$interval.appendTo(this.$track);\r\n  }\r\n}\r\n\r\nexport default Interval;\r\n","import { IConfig, ICoordinates, IPositions } from '../interfaces/interfaces';\r\nimport Observer from '../observer/Observer';\r\n\r\nimport './slider.scss';\r\nimport IView from './interface';\r\n\r\nimport Track from './elements/track/Track';\r\nimport Scale from './elements/scale/Scale';\r\nimport Handle from './elements/handle/Handle';\r\nimport Interval from './elements/interval/Interval';\r\nimport ITrack from './elements/track/interface';\r\nimport IScale from './elements/scale/interface';\r\nimport IHandle from './elements/handle/interface';\r\nimport IInterval from './elements/interval/interface';\r\n\r\nclass View implements IView {\r\n  public observer: Observer;\r\n\r\n  public $slider: JQuery<HTMLElement>;\r\n\r\n  private $root: JQuery<HTMLElement>;\r\n\r\n  private config: IConfig;\r\n\r\n  private track: ITrack;\r\n\r\n  private scale: IScale;\r\n\r\n  private firstHandle: IHandle;\r\n\r\n  private secondHandle: IHandle | null;\r\n\r\n  private interval: IInterval;\r\n\r\n  constructor($root: JQuery<HTMLElement>, config: IConfig) {\r\n    this.$root = $root;\r\n    this.config = config;\r\n    this.observer = new Observer();\r\n    this.$slider = jQuery('<div>');\r\n    this.track = new Track(this.$slider, this.config);\r\n    this.scale = new Scale(this.$slider, this.config);\r\n    this.firstHandle = new Handle(this.track.getElement(), this.config);\r\n    this.secondHandle = null;\r\n    this.interval = new Interval(this.track.getElement(), this.config);\r\n    this.init();\r\n  }\r\n\r\n  public changeConfig(config: IConfig) {\r\n    this.config = config;\r\n    this.scale.setConfig(config);\r\n    this.toggleDirection();\r\n    this.toggleRange();\r\n    this.toggleTip();\r\n    this.track.getElement().ready(() => {\r\n      this.initTrackParameters();\r\n    });\r\n  }\r\n\r\n  public getPositions(): IPositions[] {\r\n    return this.scale.getPositions();\r\n  }\r\n\r\n  public setParameters(config: IConfig): void {\r\n    this.firstHandle.moveHandle(config.from, config.fromPosition);\r\n    if (config.withRange) {\r\n      this.secondHandle?.moveHandle(config.to, config.toPosition);\r\n    }\r\n\r\n    this.interval.moveInterval(config.fromPosition, config.toPosition);\r\n  }\r\n\r\n  public initTrackParameters(): void {\r\n    const trackParameters = this.track.getTrackParameters();\r\n    this.scale.initPositions(trackParameters);\r\n    this.firstHandle.setTrackParameters(trackParameters);\r\n    this.secondHandle?.setTrackParameters(trackParameters);\r\n    this.observer.notify('init', null);\r\n  }\r\n\r\n  private init(): void {\r\n    this.$slider.addClass('meta-slider js-meta-slider meta-slider_horizontal');\r\n    this.$slider.prependTo(this.$root);\r\n    this.track.observer.subscribe({\r\n      key: 'trackClick',\r\n      observer: this.trackClick.bind(this),\r\n    });\r\n    this.scale.observer.subscribe({\r\n      key: 'scaleClick',\r\n      observer: this.scaleClick.bind(this),\r\n    });\r\n    this.firstHandle.observer.subscribe({\r\n      key: 'mouseMove',\r\n      observer: this.mouseMove.bind(this, 'from'),\r\n    });\r\n    this.firstHandle.observer.subscribe({\r\n      key: 'moveEnd',\r\n      observer: this.mouseMoveEnd.bind(this),\r\n    });\r\n    this.track.getElement().ready(() => {\r\n      this.initTrackParameters();\r\n    });\r\n  }\r\n\r\n  private toggleDirection(): void {\r\n    const { isVertical } = this.config;\r\n    this.$slider\r\n      .removeClass(\r\n        isVertical ? 'meta-slider_horizontal' : 'meta-slider_vertical',\r\n      )\r\n      .addClass(isVertical ? 'meta-slider_vertical' : 'meta-slider_horizontal');\r\n    this.track.setVertical(isVertical);\r\n    this.firstHandle.setVertical(isVertical);\r\n    this.secondHandle?.setVertical(isVertical);\r\n    this.interval.setVertical(isVertical);\r\n  }\r\n\r\n  private toggleRange(): void {\r\n    const { withRange, isVertical } = this.config;\r\n    this.interval.setRange(withRange);\r\n    if (withRange && !this.secondHandle) {\r\n      this.secondHandle = new Handle(this.track.getElement(), this.config);\r\n      this.secondHandle.setVertical(isVertical);\r\n      this.secondHandle.observer.subscribe({\r\n        key: 'mouseMove',\r\n        observer: this.mouseMove.bind(this, 'to'),\r\n      });\r\n      this.secondHandle.observer.subscribe({\r\n        key: 'moveEnd',\r\n        observer: this.mouseMoveEnd.bind(this),\r\n      });\r\n    } else if (!withRange && this.secondHandle) {\r\n      this.secondHandle.getElement().remove();\r\n      this.secondHandle = null;\r\n    }\r\n  }\r\n\r\n  private toggleTip(): void {\r\n    const { hasTip } = this.config;\r\n    this.firstHandle.toggleTip(hasTip);\r\n    this.secondHandle?.toggleTip(hasTip);\r\n  }\r\n\r\n  private trackClick(position: number): void {\r\n    const options: ICoordinates = {\r\n      position,\r\n    };\r\n    this.observer.notify('moveHandle', options);\r\n  }\r\n\r\n  private mouseMove(key: 'from' | 'to', mousePosition: number): void {\r\n    const options: ICoordinates = {\r\n      key,\r\n      position: mousePosition,\r\n    };\r\n    this.observer.notify('moveHandle', options);\r\n  }\r\n\r\n  private mouseMoveEnd(): void {\r\n    this.observer.notify('moveEnd', null);\r\n  }\r\n\r\n  private scaleClick(value: number): void {\r\n    const options: ICoordinates = {\r\n      value,\r\n    };\r\n    this.observer.notify('moveHandle', options);\r\n  }\r\n}\r\n\r\nexport default View;\r\n","import { IConfig, IDefaults } from './interfaces/interfaces';\r\n\r\nconst defaults: IDefaults = {\r\n  min: 10,\r\n  max: 40,\r\n  step: 4,\r\n  from: 8,\r\n  to: 24,\r\n  isVertical: false,\r\n  hasTip: true,\r\n  withRange: true,\r\n};\r\n\r\nconst testOptions: IDefaults = {\r\n  min: 0,\r\n  max: 10,\r\n  step: 1,\r\n  from: 2,\r\n  to: 8,\r\n  isVertical: false,\r\n  hasTip: true,\r\n  withRange: true,\r\n};\r\n\r\nconst testConfig: IConfig = {\r\n  ...testOptions,\r\n  fromPosition: 100,\r\n  toPosition: 400,\r\n};\r\n\r\nconst testPositions = [\r\n  { value: 0, position: 0 },\r\n  { value: 1, position: 50 },\r\n  { value: 2, position: 100 },\r\n  { value: 3, position: 150 },\r\n  { value: 4, position: 200 },\r\n  { value: 5, position: 250 },\r\n  { value: 6, position: 300 },\r\n  { value: 7, position: 350 },\r\n  { value: 8, position: 400 },\r\n  { value: 9, position: 450 },\r\n  { value: 10, position: 500 },\r\n];\r\n\r\nexport {\r\n  defaults, testOptions, testConfig, testPositions,\r\n};\r\n","import {\r\n  IOptions,\r\n  IConfig,\r\n  ICoordinates,\r\n  IPositions,\r\n} from '../interfaces/interfaces';\r\nimport IModel from './interface';\r\nimport { defaults } from '../defaults';\r\n\r\nclass Model implements IModel {\r\n  private options: IOptions;\r\n\r\n  private config: IConfig;\r\n\r\n  private positions: IPositions[];\r\n\r\n  constructor(options: IOptions) {\r\n    this.options = options;\r\n    this.config = this.createConfig(this.options);\r\n    this.positions = [];\r\n  }\r\n\r\n  public init(positions: IPositions[]): void {\r\n    this.positions = positions;\r\n    this.correctConfigByPositions();\r\n  }\r\n\r\n  public correctParameters(): void {\r\n    const isFromHigher = this.config.from > this.config.to;\r\n    if (this.config.withRange && isFromHigher) {\r\n      const { from, fromPosition } = { ...this.config };\r\n      this.config.from = this.config.to;\r\n      this.config.fromPosition = this.config.toPosition;\r\n      this.config.to = from;\r\n      this.config.toPosition = fromPosition;\r\n      this.options.onChange?.call(this, this.getOptions());\r\n    }\r\n  }\r\n\r\n  public changeParameter(setting: ICoordinates): void {\r\n    const newParameter = this.takeClosestParameter(setting);\r\n    const type = setting.key || this.createType(setting);\r\n    this.config[type] = newParameter.value;\r\n    this.config[`${type}Position`] = newParameter.position;\r\n    this.options.onChange?.call(this, this.getOptions());\r\n  }\r\n\r\n  public setOptions(options: IOptions): void {\r\n    const newOptions = $.extend(this.options, this.config, options);\r\n    this.options = $.extend(this.options, options);\r\n    this.config = this.createConfig(newOptions);\r\n  }\r\n\r\n  public getConfig(): IConfig {\r\n    return this.config;\r\n  }\r\n\r\n  public getOptions(): IOptions {\r\n    const { fromPosition, toPosition, ...options } = this.config;\r\n    return options;\r\n  }\r\n\r\n  static takeClosestIndex(num: number, array: number[]): number {\r\n    const closest = array.reduce((a, b) => (Math.abs(b - num) < Math.abs(a - num) ? b : a));\r\n    return array.indexOf(closest);\r\n  }\r\n\r\n  private createConfig(options: IOptions): IConfig {\r\n    let newOptions = this.correctTypes(options);\r\n    newOptions = this.correctValues(newOptions);\r\n    return newOptions;\r\n  }\r\n\r\n  private correctTypes(options: IOptions = this.options): IConfig {\r\n    const newOptions: IConfig = $.extend({}, defaults, {\r\n      fromPosition: 0,\r\n      toPosition: 0,\r\n    });\r\n    newOptions.max = Number.isFinite(Number(options.max))\r\n      ? Number(options.max)\r\n      : defaults.max;\r\n    newOptions.min = Number.isFinite(Number(options.min))\r\n      ? Number(options.min)\r\n      : defaults.min;\r\n    newOptions.step = Number.isFinite(Number(options.step))\r\n      ? Number(options.step)\r\n      : defaults.step;\r\n    newOptions.from = Number.isFinite(Number(options.from))\r\n      ? Number(options.from)\r\n      : defaults.from;\r\n    newOptions.to = Number.isFinite(Number(options.to))\r\n      ? Number(options.to)\r\n      : defaults.to;\r\n    newOptions.isVertical = typeof options.isVertical === 'boolean'\r\n      ? options.isVertical\r\n      : defaults.isVertical;\r\n    newOptions.hasTip = typeof options.hasTip === 'boolean' ? options.hasTip : defaults.hasTip;\r\n    newOptions.withRange = typeof options.withRange === 'boolean'\r\n      ? options.withRange\r\n      : defaults.withRange;\r\n    return newOptions;\r\n  }\r\n\r\n  private correctValues(config: IConfig = this.config): IConfig {\r\n    const correctConfig = { ...config };\r\n    correctConfig.max = config.max > config.min ? config.max : config.min;\r\n    correctConfig.min = config.max > config.min ? config.min : config.max;\r\n    correctConfig.max = config.max === config.min ? config.min + 10 : correctConfig.max;\r\n    const range = correctConfig.max - correctConfig.min;\r\n    correctConfig.step = correctConfig.step > range ? range : correctConfig.step;\r\n    correctConfig.from = config.from < config.min ? config.min : config.from;\r\n    correctConfig.to = config.to && config.to > config.max ? config.max : config.to;\r\n    return correctConfig;\r\n  }\r\n\r\n  private correctConfigByPositions(): void {\r\n    ['from', 'to'].forEach((item) => {\r\n      const correctItem = item as 'from' | 'to';\r\n      const valuesArr = this.positions.map((el) => el.value);\r\n      const index = Model.takeClosestIndex(this.config[correctItem], valuesArr);\r\n      this.config[correctItem] = this.positions[index].value;\r\n      this.config[`${correctItem}Position`] = this.positions[index].position;\r\n    });\r\n  }\r\n\r\n  private createType(parameter: ICoordinates): 'from' | 'to' {\r\n    if (!this.config.withRange) {\r\n      return 'from';\r\n    }\r\n    const { value, position } = parameter;\r\n    let index;\r\n    if (value && !position) {\r\n      const values = [this.config.from, this.config.to];\r\n      index = Model.takeClosestIndex(value, values);\r\n    }\r\n    if (position && !value) {\r\n      const positions = [this.config.fromPosition, this.config.toPosition];\r\n      index = Model.takeClosestIndex(position, positions);\r\n    }\r\n    return index === 0 ? 'from' : 'to';\r\n  }\r\n\r\n  private takeClosestParameter(parameter: ICoordinates): IPositions {\r\n    if (parameter.position) {\r\n      const index = Model.takeClosestIndex(\r\n        parameter.position,\r\n        this.positions.map((item) => item.position),\r\n      );\r\n      return this.positions[index];\r\n    }\r\n\r\n    if (parameter.value) {\r\n      const index = Model.takeClosestIndex(\r\n        parameter.value,\r\n        this.positions.map((item) => item.value),\r\n      );\r\n      return this.positions[index];\r\n    }\r\n\r\n    throw new Error('wrong parameters');\r\n  }\r\n}\r\n\r\nexport default Model;\r\n","import { IOptions, ICoordinates } from '../interfaces/interfaces';\r\nimport View from '../view/View';\r\nimport IView from '../view/interface';\r\nimport Model from '../model/Model';\r\nimport IModel from '../model/interface';\r\nimport IPresenter from './interface';\r\n\r\nclass Presenter implements IPresenter {\r\n  public model: IModel;\r\n\r\n  public view: IView;\r\n\r\n  private $root: JQuery<HTMLElement>;\r\n\r\n  private options: IOptions;\r\n\r\n  constructor(root: JQuery<HTMLElement>, options: IOptions) {\r\n    this.$root = root;\r\n    this.options = options;\r\n    this.model = new Model(this.options);\r\n    this.view = new View(this.$root, this.model.getConfig());\r\n    this.init();\r\n  }\r\n\r\n  public setOptions(options: IOptions): void {\r\n    this.model.setOptions(options);\r\n    this.view.changeConfig(this.model.getConfig());\r\n  }\r\n\r\n  public getOptions(): IOptions {\r\n    return this.model.getOptions();\r\n  }\r\n\r\n  private init(): void {\r\n    this.view.observer.subscribe({\r\n      key: 'init',\r\n      observer: this.initParameters.bind(this),\r\n    });\r\n    this.view.observer.subscribe({\r\n      key: 'moveHandle',\r\n      observer: this.changeParameters.bind(this),\r\n    });\r\n    this.view.observer.subscribe({\r\n      key: 'moveEnd',\r\n      observer: this.correctParameters.bind(this),\r\n    });\r\n  }\r\n\r\n  private initParameters(): void {\r\n    this.model.init(this.view.getPositions());\r\n    this.view.setParameters(this.model.getConfig());\r\n  }\r\n\r\n  private changeParameters(setting: ICoordinates): void {\r\n    this.model.changeParameter(setting);\r\n    this.view.setParameters(this.model.getConfig());\r\n  }\r\n\r\n  private correctParameters(): void {\r\n    this.model.correctParameters();\r\n    this.view.setParameters(this.model.getConfig());\r\n  }\r\n}\r\n\r\nexport default Presenter;\r\n","import Presenter from './presenter/Presenter';\r\nimport { IOptions } from './interfaces/interfaces';\r\nimport IMetaSlider from './interface';\r\n\r\nclass MetaSlider implements IMetaSlider {\r\n  readonly presenter: Presenter;\r\n\r\n  constructor(element: JQuery<HTMLElement>, options: IOptions) {\r\n    this.presenter = new Presenter(element, options);\r\n  }\r\n\r\n  public setOptions(options: IOptions): void {\r\n    this.presenter.setOptions(options);\r\n  }\r\n\r\n  public getOptions(): IOptions {\r\n    return this.presenter.getOptions();\r\n  }\r\n}\r\n\r\nexport default MetaSlider;\r\n","import MetaSlider from './MetaSlider';\r\nimport { IOptions } from './interfaces/interfaces';\r\nimport { defaults } from './defaults';\r\n\r\ninterface ISlider {\r\n  (method?: 'init'): JQuery<HTMLElement>;\r\n  (method: 'getOptions'): IOptions;\r\n  (method: 'setOptions', options: IOptions): JQuery<HTMLElement>;\r\n}\r\n\r\ndeclare global {\r\n  interface JQuery {\r\n    MetaSlider: ISlider;\r\n  }\r\n}\r\ninterface IMethods {\r\n  init: (options: IOptions) => void;\r\n  setOptions: (options: IOptions) => void;\r\n  getOptions: () => IOptions;\r\n}\r\n\r\n(function ($) {\r\n  const methods: IMethods = {\r\n    init(this: JQuery<HTMLElement>, options: IOptions) {\r\n      const config = $.extend({}, defaults, options);\r\n      const slider = new MetaSlider(this, config);\r\n      $.each(config, (key, value) => {\r\n        this.attr(`data-${String(key)}`, `${value}`);\r\n      });\r\n      this.data('slider', slider);\r\n    },\r\n    setOptions(this: JQuery<HTMLElement>, options: IOptions) {\r\n      this.data('slider').setOptions(options);\r\n      const config = this.data('slider').getOptions();\r\n      $.each(config, (key, value) => {\r\n        this.attr(`data-${String(key)}`, `${value}`);\r\n      });\r\n    },\r\n    getOptions(this: JQuery<HTMLElement>) {\r\n      return this.data('slider').getOptions();\r\n    },\r\n  };\r\n\r\n  function makeSlider(method?: 'init'): JQuery<HTMLElement>;\r\n  function makeSlider(method: 'getOptions'): IOptions;\r\n  function makeSlider(\r\n    method: keyof IMethods,\r\n    options?: IOptions\r\n  ): JQuery<HTMLElement>;\r\n  function makeSlider(\r\n    this: JQuery<HTMLElement>,\r\n    method?: keyof IMethods,\r\n    options?: IOptions,\r\n  ) {\r\n    const $this = $(this);\r\n    if (!method || method === 'init') {\r\n      const dataOptions = { ...$this.data() } || {};\r\n      methods.init.apply($this, [options || dataOptions]);\r\n      return this;\r\n    }\r\n    if (method === 'getOptions') {\r\n      return methods[method].apply($this);\r\n    }\r\n    if (method === 'setOptions' && options) {\r\n      methods[method].apply($this, [options]);\r\n      return this;\r\n    }\r\n\r\n    $.error(`Method ${method} does not exist on jQuery.tooltip`);\r\n    return this;\r\n  }\r\n\r\n  $.fn.MetaSlider = makeSlider;\r\n}(jQuery));\r\n\r\nexport default MetaSlider;\r\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","Observer","this","observers","fn","push","data","forEach","item","observer","Track","$slider","config","$track","jQuery","isVertical","trackStart","trackWidth","init","position","Number","top","left","css","parseFloat","addClass","appendTo","bindEventListeners","on","handleTrackClick","bind","event","mousePosition","pageY","pageX","Error","Math","round","notify","Scale","$scale","positions","itemWidth","scaleSize","array","size","length","arrayStep","filter","i","isItemEquivalentStep","isLastItem","width","correctedArray","lastItemPosition","prevLastItemPosition","abs","splice","trackParameters","min","max","step","range","stepArray","toString","split","fractionalLength","stepLength","arrStep","floor","stepsCount","emptyArr","Array","multiplyStep","positionLength","valuesArr","from","_","map","el","initScale","empty","takeWidth","addValues","widthArr","$scaleItem","text","height","remove","apply","scaleArr","correctScaleArr","$scaleRow","class","createItem","append","maxStepsCount","reduceArray","correctLastItems","style","$","handleScaleClick","target","dataset","currentValue","Tip","$handle","$tip","html","Handle","tip","itemPosition","changeTip","hasTip","getElement","handleHandleMouseDown","preventDefault","document","handleMouseMove","handleTouchMove","handleMoveEnd","handleDragStart","getCorrectPosition","correctedPosition","isInScale","eventPosition","touches","touch","touchPosition","undefined","off","Interval","$interval","withRange","fromPosition","toPosition","handleWidth","View","$root","track","scale","firstHandle","secondHandle","interval","setConfig","toggleDirection","toggleRange","toggleTip","ready","initTrackParameters","getPositions","moveHandle","to","moveInterval","getTrackParameters","initPositions","setTrackParameters","prependTo","subscribe","trackClick","scaleClick","mouseMove","mouseMoveEnd","removeClass","setVertical","setRange","options","defaults","Model","createConfig","correctConfigByPositions","isFromHigher","onChange","getOptions","setting","newParameter","takeClosestParameter","type","createType","newOptions","extend","correctTypes","correctValues","isFinite","correctConfig","correctItem","index","takeClosestIndex","parameter","values","num","closest","reduce","a","b","indexOf","Presenter","model","view","getConfig","setOptions","changeConfig","initParameters","changeParameters","correctParameters","setParameters","changeParameter","MetaSlider","element","presenter","methods","slider","each","attr","String","method","$this","dataOptions","error"],"sourceRoot":""}